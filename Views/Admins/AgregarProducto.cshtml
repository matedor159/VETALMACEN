@model SisAlmacenProductos.Models.Producto

@{
    ViewBag.Title = "Agregar Producto";
}

<h2>Agregar Producto</h2>

@{
    var errorCodigo = TempData["ErrorCodigo"] as string;
    var errorPrecio = TempData["ErrorPrecio"] as string;
    var errorImagenUrl = TempData["ErrorImagenUrl"] as string;
}

@Html.ValidationSummary(true, "", new { @class = "text-danger" })

<form asp-action="AgregarProducto" method="post">

    <div class="form-group">
        <label asp-for="Codigo" class="form-label"></label>
        @Html.TextBoxFor(m => m.Codigo, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Codigo, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label asp-for="Nombre" class="form-label"></label>
        @Html.TextBoxFor(m => m.Nombre, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Nombre, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label asp-for="Descripcion" class="form-label"></label>
        @Html.TextAreaFor(m => m.Descripcion, new { @class = "form-control", rows = "3" })
        @Html.ValidationMessageFor(m => m.Descripcion, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label asp-for="Marca" class="form-label"></label>
        @Html.TextBoxFor(m => m.Marca, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Marca, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label class="form-label">SubCategoría ID</label>
        @Html.TextBoxFor(m => m.SubCategoriaId, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.SubCategoriaId, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label asp-for="Precio" class="form-label"></label>
        @Html.TextBoxFor(m => m.Precio, new { @class = "form-control", type = "number", step = "0.01" })
        @Html.ValidationMessageFor(m => m.Precio, errorPrecio ?? "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label asp-for="Stock" class="form-label"></label>
        @Html.TextBoxFor(m => m.Stock, new { @class = "form-control", type = "number" })
        @Html.ValidationMessageFor(m => m.Stock, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <label class="form-label">Agregar URL</label>
        @Html.TextBoxFor(m => m.ImagenUrl, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.ImagenUrl, errorImagenUrl ?? "", new { @class = "text-danger" })
    </div>

    <button type="submit" class="btn btn-primary">Guardar</button>
    <a asp-action="Productos" class="btn btn-secondary ms-2">Cancelar</a>

</form>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
